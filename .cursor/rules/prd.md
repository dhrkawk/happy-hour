# 제품 요구 사항 문서(PRD)

## 1. 개요
소상공인의 노쇼·빈 시간 문제를 실시간 할인 슬롯으로 수익화하고, 소비자에게는 즉시 사용 가능한 선결제 할인 기회를 제공하는 위치 기반 모바일·웹 플랫폼. 핵심 가치: “지금 아니면 손해(FOMO)”와 “전략적 타임 세일”을 동시에 실현.

## 2. 문제 정의
- 소상공인: 노쇼·당일 취소로 손실, 비수기·불인기 시간대 매출 공백, 무분별한 할인으로 인한 브랜드 훼손 우려.
- 소비자: 즉흥적 방문 시 가성비 높은 서비스 탐색 어려움, 정보 분산, 당일 예약 불확실성.
- 시장: 예약·결제·환불 CS 부담, 초기 공급·수요 밀도 부족.

## 3. 목표 및 목표 지표
- 1차 목표: 빈 시간 실시간 매출화(매장당 월 손실 20%↓).
- 2차 목표: 소비자 즉시 할인 예약 경험(결제→방문 전환율 70%).
- 성공 지표  
  • MAU 10만 / 재방문율 40%  
  • 빈 슬롯 등록 매장 1,000개 / 슬롯 판매율 60%  
  • 노쇼율 5% 이하  
  • NPS 50 이상  

## 4. 대상 사용자
### 1) 소비자
- 20~40대, 위치 기반 즉흥 소비 성향, 가성비 중시, 모바일 결제 친숙.
### 2) 사장님
- 예약 운영 업장(미용, 네일, 마사지, F&B 등) 뿐만 아니라 일반 식당 등 모든 소상공인 매장, IT 이해도 중간, 브랜드 이미지 민감, 노쇼 경험 多.

## 5. 사용자 스토리
- 소비자: “근처 네일샵 빈 시간 할인을 즉시 결제해 바로 이용하고 싶다.”
- 사장님: “오늘 3시 공백을 할인으로 노출해 손실을 줄이고 싶다.”
- 소비자: “내 취향과 일정에 맞는 빈 슬롯이 뜨면 알림을 받고 싶다.”
- 사장님: “브랜드 가치 유지 범위 안에서 최적 할인율을 제안받고 싶다.”

## 6. 기능 요구 사항
### 핵심 기능
1. 사장님 빈 시간 등록  
   • 어떤 서비스/상품(섭스)인지, 할인율(10~70%), 적용 시간(몇시부터 몇시까지)만 간단하게 입력하여 슬롯 생성  
   • 노출 범위(전체/단골)·슬롯 수량 설정  
   • 승인 후 즉시 마켓에 노출  
   수용 기준: 슬롯 시간·가격·할인율 저장, 3초 내 반영

2. 실시간 할인 탐색(소비자)  
   • 지도 UI(Next.js Map SDK) + 거리·카테고리·가격 필터  
   • 슬롯 카드: 서비스, 할인율, 잔여 시간, FOMO 타이머  
   • 결제 없이 예약만 진행(예약 성공 시 예약 번호 발급)  
   수용 기준: 지도 반경 5km 내 1초 내 렌더링, 예약 성공률 99%

3. 위치 기반 푸시 알림  
   • Geo-fence 500m 진입 시 신규 슬롯 푸시  
   • AI 추천 점수 Top3만 알림(알림 피로 최소화)  
   수용 기준: 이벤트 발생 후 2초 내 푸시 송신

4. 선결제·환불 정책 관리  
   • 취소 가능 시간(슬롯 시작 2시간 전까지) 자동 표시  
   • 결제 시스템 미적용(MVP) – 노쇼·환불은 예약 기록 및 실제 노쇼 현황을 사장님 피드백으로 수집  
   • 소비자·사장님 CS 패널티 규칙 노출

5. 브랜드 보호  
   • 매장당 일 최대 2개 “해피아워” 슬롯 제한  
   • “스페셜 타임딜” 배지 부여, 정가 대비 할인율 노출 방식 조절(%)  

### 지원 기능
- 리뷰·등급, 단골 즐겨찾기, 추천 리워드(포인트)
- 관리자 대시보드(매출, 슬롯 통계, AI 할인 추천)
- FAQ·챗봇 CS
- 다국어(한국어 1차, 영어 2차)

## 7. 비기능 요구 사항
- 성능: 서버 응답 200ms 이하, 동시 접속 10만
- 보안: HTTPS, JWT 인증, PCI-DSS 결제 기준
- 사용성: 모바일 앱 3탭 이내 결제 완료, 웹 접근성 KWCAG AA
- 확장성: K8s 오토스케일, 멀티테넌시 구조
- 호환성: iOS 14+, Android 8+, 최신 크롬/사파리

## 8. 기술 고려 사항
- 아키텍처: Next.js SSR + Supabase(Postgres) + Python AI 마이크로서비스
- 실시간 데이터: Supabase Realtime, WebSocket 알림
- AI 모델:  
  • No-show 예측(RandomForest) → 자동 할인 전환  
  • 사용자 선호 임베딩 → 추천 점수  
  • 할인율 최적화(Bayesian Optimization)  
- 통합: 외부 예약 API(구글, 카카오), 결제 PG, 푸시(Firebase)
- 데이터: 사용자 위치, 거래 로그, 예약 캘린더, 보안 암호화(at rest & in transit)

## 9. 성공 지표 & KPI
- 유저: DAU/MAU 30%, 슬롯 클릭→결제 전환 15%+
- 비즈: 매장 월 추가 매출 15%+, 이탈률 5%↓
- 기술: API 오류율 <0.1%, 알림 도달률 95%+

## 10. 일정·마일스톤
- 0. 사전 조사(2주): 시장·경쟁·법규
- 1. MVP 설계·개발(6주)  
  • 핵심 기능 1~4, iOS·웹 베타  
- 2. 클로즈 베타(4주)  
  • 서울 50개 매장, 사용자 2,000명  
- 3. 퍼블릭 출시(3개월)  
  • 안드로이드 추가, 결제 확장, AI 추천 v1  
- 4. 고도화(6개월)  
  • 멀티지역, 리워드, AI 할인 최적화 v2

## 11. 리스크 및 대응
- 공급 밀도 부족 → 프리미엄 매장 온보딩 인센티브
- 노쇼·환불 분쟁 → 명시적 약관 + 스마트 CS 챗봇
- 브랜드 훼손 → “전략 할인” 콘텐츠, 배지·리미트 적용
- 기술 스케일 → K8s 오토스케일, CDN 캐시

## 12. 향후 계획
- B2B API → OTA·지역 플랫폼 연동
- AI 수요 예측 기반 동적 가격(타임커머스 2.0)
- 구독형 “VIP 프리패스”(월회비, 무제한 타임딜)
- 글로벌 확장: 일본·동남아 O2O 서비스 진출

## 13. 심리경제학·넛지 적용
- 한정 수량·카운트다운 타이머로 희소성 강조
- “내 위치 근처 3명 구매 중” 사회적 증거
- 할인율 대신 “손실 회수 포인트” 메시지로 사장님 가치 방어
- 소비자 포인트 만료 알림으로 행동 촉진

## 14. UX 흐름 요약
1. 소비자 앱 실행 → 지도 로딩 → 슬롯 카드 선택 → 상세 → 즉시 결제 → QR 바우처 → 매장 체크인(스캔)  
2. 사장님 웹/앱 → 빈 시간 자동 감지 알림 → 할인율 확인·승인 → 실시간 등록 → 판매 현황 대시보드

## 15. 데이터 흐름
소비자 위치 이벤트 → Supabase Realtime → 추천 API 호출 → 후보 슬롯 랭킹 → 푸시/지도 노출 → 결제 PG → 거래 로그 → 매장 POS 연동

---